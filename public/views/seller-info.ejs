<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seller Info</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <a href="/" class="navbar-brand"><i class="fas fa-store"></i> E-Commerce</a>
            <ul class="navbar-menu">
                <li><a href="/">Home</a></li>
                <li><a href="/api/v1/user/dashboard">Dashboard</a></li>
            </ul>
            <div class="navbar-icons">
                <div class="user-profile" onclick="toggleUserMenu(event)">
                    <i class="fas fa-user-circle"></i>
                    <span class="user-profile-name"><%= user.name %></span>
                    <div id="userMenu" class="user-menu hidden">
                        <a href="/api/v1/user/dashboard">Dashboard</a>
                        <button type="button" onclick="logout()" class="logout-btn">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <div class="dashboard-container">
            <div class="dashboard-card">
                <h1 class="dashboard-title">Seller Information</h1>
                <p class="dashboard-subtitle">Quick access to your tools</p>
                <div class="features-grid">
                    <a class="btn btn-primary" href="/api/v1/user/dashboard">Manage Products (CRUD)</a>
                    <a class="btn" href="/categories">View Storefront</a>
                </div>
            </div>
            <div class="dashboard-card">
                <h2 class="card-title">Tips</h2>
                <ul>
                    <li>Add products with or without images; a default image is used if not uploaded.</li>
                    <li>New products appear instantly for buyers on Home and Categories.</li>
                </ul>
            </div>
        </div>
    </main>

    <script src="/js/auth-helper.js"></script>
    <script>
        function toggleUserMenu(e) {
            e.stopPropagation();
            const menu = document.getElementById('userMenu');
            menu.classList.toggle('hidden');
        }
        window.addEventListener('click', () => {
            const menu = document.getElementById('userMenu');
            if (menu) menu.classList.add('hidden');
        });
        async function logout() {
            try {
                await fetch('/api/v1/user/logout', { method: 'GET' });
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                window.location.href = '/';
            } catch (e) {
                window.location.href = '/';
            }
        }
    </script>
    <style>
        .user-menu { position: absolute; background: #fff; border: 1px solid #eee; border-radius: 8px; right: 0; top: 48px; min-width: 160px; box-shadow: 0 10px 20px rgba(0,0,0,0.08); padding: 8px; z-index: 1500; }
        .user-menu a, .user-menu button { display: block; padding: 8px 10px; width: 100%; text-align: left; border: 0; background: transparent; cursor: pointer; }
        .user-menu a:hover, .user-menu button:hover { background: #f5f5f7; }
        .logout-btn { color: #e74c3c; }
        .user-profile { position: relative; cursor: pointer; }
        .hidden { display: none; }
    </style>
</body>
</html>



